function onSubmit(e,t,n=!0){const d=document.getElementById(e),s=document.getElementById(t);d.addEventListener("submit",function(){s.setAttribute("disabled",!0),n&&(s.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span><span> Enviando Informações...</span>')})}function categories(){const e={word:document.getElementById("words"),result:document.getElementById("results"),button:document.getElementById("create-btn"),title:document.getElementById("title"),field:document.getElementById("custom-fields"),block:document.getElementById("custom-fields-block")};e.word.addEventListener("keyup",function(){fetch("/helpdesk/request/type/category",{method:"POST",body:JSON.stringify({words:this.value}),mode:"cors",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(e=>e.json()).then(t=>{if(!1===t.result){let n='<div class="message empty">';return n+='<div class="header">Ops!</div>',n+=`<div class="description">${t.message}</div>`,n+="</div>",e.result.innerHTML=n,e.result.style.display="block",void e.button.setAttribute("disabled",!0)}let n='<div class="visible">';t.items.forEach(e=>{n+='<div class="category">',n+=`<div class="name">${e.departament}</div>`,n+='<div class="results visible">',n+=`<a class="result text-reset text-decoration-none" id="item" data-category="${e.category_name}" data-subcategory="${e.sub_category}">`,n+='<div class="content">',n+=`<div class="title">${e.category_name}</div>`,n+=`<div class="description">${e.category_description}</div>`,n+="</div>",n+="</a>",n+="</div>",n+="</div>"}),n+="</div>",e.result.innerHTML=n;const d=document.querySelectorAll("#item");d.forEach(t=>{t.addEventListener("click",function(){const t=this.getAttribute("data-category"),n=this.getAttribute("data-subcategory"),d=document.createElement("input");d.type="hidden",d.name="subcategory",d.value=n,e.block.appendChild(d),fetch("/helpdesk/request/type/fields",{method:"POST",body:JSON.stringify({id:n}),mode:"cors",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(e=>e.json()).then(t=>{if(!1===t.result)return console.log(`[HelpDesk][Field] - ${t.message}`),e.field.innerHTML="",void e.block.classList.add("d-none");t.fields.forEach(t=>{const n=document.createElement("div");n.className="form-group mb-2";const d=document.createElement("input");d.type="text",d.name=t.field_name,d.id=t.field_name,d.setAttribute("required",t.field_required),d.setAttribute("autocomplete","off"),d.className="form-control";const s=document.createElement("label");s.htmlFor=t.field_name,s.classList.add("form-label"),t.field_required&&s.classList.add("required"),s.innerHTML=t.field_description+":",n.appendChild(s),n.appendChild(d),e.field.appendChild(n)}),e.block.classList.remove("d-none")}),e.word.value=t,e.title.value=t,e.result.style.display="none"})}),e.button.removeAttribute("disabled")})})}function wordCount(e,t,n=3e3){const d=document.getElementById(e);d.addEventListener("keyup",function(){let e=d.value.length;return t.innerHTML=n-e})}function toggleMenu(e){"touchstart"===e.type&&e.preventDefault();const t=document.getElementById("nav");t.classList.toggle("active");const n=t.classList.contains("active");e.currentTarget.setAttribute("aria-expanded",n),n?e.currentTarget.setAttribute("aria-label","Abrir Menu"):e.currentTarget.setAttribute("aria-label","Fechar Menu")}function execToggle(){const e=document.getElementById("btn-mobile");e.addEventListener("click",toggleMenu),e.addEventListener("touchstart",toggleMenu)}function employee(e){const t=document.getElementById(e);t.addEventListener("blur",function(){fetch("/helpdesk/request/type/entity",{method:"POST",body:JSON.stringify({entity:this.value}),mode:"cors",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(e=>e.json()).then(e=>{if(!1===e.result)return window.alert(e.message),void(this.value="");this.type="text",this.value=`${e.entity}  ${e.name}`})})}